## Практика

### 1. Подготовка

Участники: TL - team leader, D1 - developer 1, D2 - developer 2
Выберете кто из вас будет тим-лидером.

1. TL создаёт пустой проект на своём компьютере
2. TL добавляет в проект файлы `index.html` и `style.css`
3. TL создаёт репозиторий на GitHub из готового кода
4. TL создаёт ветку `dev`
5. TL добавляет D1 и D2 в collaborators
   1. зайти в github
   2. settings
   3. collaborators
   4. add collaborator
   5. ввести имя разработчика
   6. добавить
   7. разработчик получит письмо на почту, где ему предложат принять приглашение, после чего он сможет работать с репозиторием
6. D1 и D2 клонируют репозиторий к себе на компьютер

### 2. Работа с ветками:

Посмотрим как происходит работа с ветками в процессе разработки. Часто вливать ветки задач в `dev` разрешается только через пул-реквесты. Это делается для того, чтобы контролировать качество кода. Один разработчик делает пул-реквест, а другой смотрит его код и принимает или отклоняет его.

1. TL работает над содержимым сайта
   1. TL создаёт ветку `content`
   2. TL вносит изменения в файл `index.html` и `style.css` (только в тег `main`)
   3. TL делает коммит и пушит изменения
   4. TL создаёт пулл-реквест в ветку `dev`
   5. D1 или D2 принимает пулл-реквест
   6. TL удаляет ветку `content`
2. D1 работает над шапкой сайта
   1. D1 создаёт ветку `header`
   2. D1 вносит изменения в файл `index.html` и `style.css` (только в тег `header`)
   3. D1 делает коммит и пушит изменения
   4. D1 создаёт пулл-реквест в ветку `dev`
   5. TL принимает пулл-реквест
   6. D1 удаляет ветку `header`
3. D2 работает над футером сайта
   1. D2 создаёт ветку `footer`
   2. D2 вносит изменения в файл `index.html` и `style.css` (только в тег `footer`)
   3. D2 делает коммит и пушит изменения
   4. D2 создаёт пулл-реквест в ветку `dev`
   5. TL принимает пулл-реквест
   6. D2 удаляет ветку `footer`

### 3. Работа с конфликтами

Во время принятие пул-реквестов могут случиться конфликты. Тогда их решает либо тот кто делает пулл-реквест, либо тот кто его принимает.

1. TL работает над содержимым сайта
   1. TL создаёт ветку `tl-content`
   2. TL вносит изменения в файл `index.html` и `style.css` (только в тег `main`)
   3. TL делает коммит и пушит изменения
   4. TL создаёт пулл-реквест в ветку `dev`
   5. D2 принимает пулл-реквест
   6. Ветку `tl-content` удалять не нужно!
2. D1 работает над содержимым сайта
   1. D1 создаёт ветку `d1-content`
   2. D1 вносит изменения в файл `index.html` и `style.css` (только в тег `main`)
   3. D1 делает коммит и пушит изменения
   4. D1 создаёт пулл-реквест в ветку `dev`
   5. TL принимает пулл-реквест перед этим разрешая конфликты
   6. Ветку `d1-content` удалять не нужно!
3. D2 работает над содержимым сайта
   1. D2 создаёт ветку `d2-content`
   2. D2 вносит изменения в файл `index.html` и `style.css` (только в тег `main`)
   3. D2 делает коммит и пушит изменения
   4. D2 создаёт пулл-реквест в ветку `dev`
   5. D1 принимает пулл-реквест перед этим разрешая конфликты
   6. Ветку `d2-content` удалять не нужно!

### 4. Актуализация веток

После того, как ветки задач вливаются `dev` удалять их не обязательно. Если задачи не завершены до конца то можно продолжить работу над ними в этих ветках. Время от времени необходимо вливать изменения из `dev` в ветки задач, чтобы они не устаревали.

Подготовительный этап, сделаем ещё несколько изменений в ветках, чтобы потом порешать конфликты:

1. TL вносит изменения в `dev`
   1. TL переключается на ветку `dev`
   2. TL вносит изменения в файл `index.html` в тег `main`
   3. TL делает коммит и пушит изменения
2. TL вносит изменения в `tl-content`
   1. TL переключается на ветку `tl-content`
   2. TL вносит изменения в файл `index.html` в тег `main`
   3. TL делает коммит и пушит изменения
3. D1 вносит изменения в `d1-content`
   1. D1 переключается на ветку `d1-content`
   2. D1 вносит изменения в файл `index.html` в тег `main`
   3. D1 делает коммит и пушит изменения
4. D2 вносит изменения в `d2-content`
   1. D2 переключается на ветку `d2-content`
   2. D2 вносит изменения в файл `index.html` в тег `main`
   3. D2 делает коммит и пушит изменения

Теперь каждый разработчик должен актуализировать свою ветку, чтобы в ней были все последние изменения из `dev`. Каждый работает в своей ветке (TL в `tl-content`, D1 в `d1-content`, D2 в `d2-content`).

1. `git fetch` - получить информацию о новых изменениях с сервера
2. `git pull` - обновить свою ветку с сервера
3. `git merge origin/dev` - слить изменения из ветки `dev` в свою ветку
4. `git status` - посмотреть, в каких файлах произошли конфликты
5. Разрешить конфликты
   1. Зайти в каждый файл, в котором есть конфликты
   2. Разрешить конфликты (оставить только тот код, который нужен)
   3. Отправить изменения на сервер: `git add -A`, `git commit -m "merge"`, `git push`
6. Теперь ветка разработчика актуальна
