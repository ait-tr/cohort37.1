# Git

### git - программа

1. Хранит историю всех изменений, которые были внесены в проект
2. Отвечает за синхронизацию изменений между серверным и локальными репозиториями
   1. Помогает сливать вместе разные копии
3. Позволяет откатиться на любую версию истории изменений, либо отменить один конкретный коммит

### github - сервер и сайт

1. Сервер, на котором можно бесплатно хранить серверные-репозитории
2. Графический интерфейс для этих репозиториев
3. Площадка для открытой разработки проектов (open-source)

## Создание репозитория

1. Создание репозитория с нуля
   1. Создаём репо на github
   2. Клонируем его к себе на компьютер через `git clone {url}` (нельзя создавать репо внутри другого репо)
      1. через `ls -a` можно увидеть есть ли папка `.git` в текущей папке
   3. Создаём какие-то файлы
   4. Отправляем новые файлы на сервер
      1. `git add -A` - говорим, что все изменения мы хотим отправить на сервер (кладём бумаги в конверт)
      2. `git commit -m "{ваше сообщение}"` - вы даёте название подготовленной пачке изменений (запечатываем конверт и пишем на нём тему)
      3. `git push` - отправляем пачку изменений на сервер (отправляем конверт по почте)

## Совместная разработка по модели fork-based

1. Делаете форк репозитория на github
2. Клонируете его к себе на компьютер `git clone {url}`
3. Вносите изменения
4. Отправляете изменения на сервер (см. выше: `git add -A`, `git commit -m "{ваше сообщение}"`, `git push`)
5. Делаете pull-request на github
6. Владелец оригинального репозитория принимает или отклоняет ваш pull-request

## Совместная разработка по модели branch-based git flow

1. Создаём репозиторий
2. Клонируем его на свой компьютер
3. Создаём ветку dev: `git checkout -b dev`
4. Делаем `git push` (отправляем ветку на сервер)
5. Сделаем новую ветку для задачи "html-page"
   1. убедимся, что мы сейчас на ветке dev: `git status`
   2. создаём ветку `git checkout -b "html-page"`
   3. вносим изменения
   4. коммитим/пушим изменения на сервер (`add/commit/push`)
6. Если хотим сделать ещё одну ветку для другой задачи
   1. Перейти в ветку dev `git checkout dev`
   2. создаём ветку `git checkout -b "readme"`
   3. вносим изменения
   4. коммитим/пушим изменения на сервер (`add/commit/push`)
7. Теперь заливаем обе ветки в ветку dev
   1. Переходим в ветку dev `git checkout dev`
   2. Обновляем ветку dev с сервера `git pull`
   3. Получаем информацию с сервера о новых изменениях `git fetch`
   4. Заливаем в ветку dev изменения из html-page: `git merge origin/html-page`
   5. Удаляем ветку html-page
      1. локально `git branch -D html-page`
      2. дистанционно `git push origin --delete html-page`
   6. Заливаем в ветку dev изменения из readme: `git merge origin/readme`
      1. Удаляем ветку readme
   7. Отправляем изменения на сервер `git push`
8. Заливаем ветку dev в main
   1. Переходим в ветку main `git checkout main`
   2. Обновляем ветку main с сервера `git pull`
   3. Получаем информацию с сервера о новых изменениях `git fetch`
   4. Заливаем в ветку main изменения из html-page: `git merge origin/dev`
   5. Отправляем изменения на сервер `git push`

### Решение проблем

1. Не получается запушить ветку (ошибка fatal: The current branch [имя ветки] has no upstream branch.)
   1. выполните `git push --set-upstream origin [имя ветки]`
2. В терминале открывается редактор кода vim или nano
   1. если открылся vim `:q! enter`
   2. если открылся nano `ctrl+x, ctrl+n`

## Сценарии использования Git

1. Есть некий проект. Мы не входим в команду разработки этого проекта, но хотим поучаствовать в его развитии.
   1. Делаем fork (на сервер создаётся копия оригинального репозитория)
   2. Клонируем себе на компьютер (создаём локальный репозиторий)
   3. Вносим изменения
   4. Коммтим, пушим (отправляем изменения в нашу копию оригинального репозитория)
   5. Оформляем пул-реквест из копии в оригинальный репозиторий
   6. Разработчик либо принимает пул-реквест, либо отклоняет его
2. Есть некий проект. Мы не входим в команду разработки этого проекта. Мы хотим развивать этот проект по-своему.
   1. Делаем fork (на сервер создаётся копия оригинального репозитория)
   2. Клонируем себе на компьютер (создаём локальный репозиторий)
   3. Вносим изменения
   4. Коммтим, пушим (отправляем изменения в нашу копию оригинального репозитория)
3.

## .gitignore

Если вы не хотите отправлять какой-то файл в серверный репозиторий
